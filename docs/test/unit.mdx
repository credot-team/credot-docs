---
title: 單元測試
sidebar_position: 2
---

## 設定 package.json

```json title="package.json"
{
  "scripts": {
    "test": "jest"
  },
  "devDependencies": {
    "@types/jest": "^26.0.15",
    "jest": "^27.0.3"
  }
}
```

## 實作測試文件

```tsx title="__tests__/unit.test.tsx"
// 測試情境
// 檢查 api 回傳資料是否含有特定欄位
// ex: api 回傳 {"appName":"sns-heroku","version":"1.0.0"}
describe('GET api version', () => {
  test('test api', async () => {
    const response = await fetch(
      'https://sns-heroku.herokuapp.com/api/version',
    );

    const body = await response.json();

    expect(body).toHaveProperty('appName');
    expect(Object.keys(body)).toEqual(['appName', 'version']);

    expect(response.status).toBe(200);
  });
});
```

## 執行測試

```bash
yarn test
```
